{% load socialaccount %}
{% include "main.html" %}

{% block content %}

{% if page == 'login' %}
<!-- Login card -->
<div class="container auth-card card mx-auto">
    <div class="row p-2">
        <!-- Card title -->
        <h4 class="card-title">Войти в аккаунт</h4>
        <!-- Login form -->
        <form action="" method="post">
            {% csrf_token %}
            <div class="mb-3">
                <label for="username" class="form-label">Имя пользователя:</label>
                <input type="text" class="form-control" name="username" id="username" style="color: #0b666a;">
            </div>
            <div class="mb-3">
                <label for="passowrd" class="form-label">Пароль:</label>
                <input type="password" class="form-control" name="password" id="password" style="color: #0b666a;">
            </div>
            <button type="submit" class="btn auth-btn">
                Войти
            </button>
        </form>
        <p class="card-text pt-2 mb-1">или войдите с помощью:</p>
        <!-- Social Logins -->
        <div class="row me-auto">
            <div class="col-auto">
                <a class="btn social-btn me-2 my-2" href="{% provider_login_url 'google' %}" role="button">
                    <i class="fa-brands fa-google"></i> Google
                </a>
            </div>
            <div class="col-auto">
                <a class="btn social-btn me-2 my-2" href="{% provider_login_url 'yandex' %}" role="button">
                    <i class="fa-brands fa-yandex"></i> Яндекс
                </a>
            </div>
            <div class="col-auto">
                <a class="btn social-btn me-2 my-2" href="{% provider_login_url 'github' %}" role="button">
                    <i class="fa-brands fa-github"></i> GitHub
                </a>
            </div>
            <div class="col-auto">
                <a class="btn social-btn me-2 my-2" href="#" role="button">
                    <i class="fa-solid fa-at"></i> Mail.Ru
                </a>
            </div>
        </div>
        <!-- Forgot passowrd and register links -->
        <a href="{% url 'reset_password' %}" class="card-link mt-2">Забыли пароль?</a>
        <p class="card-text my-3">
            Еще нет аккаунта? <a href="{% url 'register' %}" class="card-link">Зарегистрируйтесь</a>
        </p>
    </div>
</div>

{% else %}
<!-- Register card -->
<div class="container card auth-card mx-auto">
    <div class="row p-2">
        <!-- Card title -->
        <h4 class="card-title">Создать аккаунт</h4>
        <!-- Register form -->
        <form action="" method="post">
            {% csrf_token %}
            {% for field in form %}
                {{ field.label }}
                {{ field }}
            {% endfor %}
            <button type="submit" class="btn auth-btn mt-2">
                Создать аккаунт
            </button>
        </form>
        <!-- Login link -->
        <p class="card-text py-3">
            Уже есть аккаунт? <a href="{% url 'login' %}" class="card-link">Войдите</a>
        </p>
    </div>
</div>

{% endif %}

{% endblock content %}